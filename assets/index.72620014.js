import{M as w,T as l,a as h,S as g,b as z,P as S,c as v,G as P,O,d as A,A as G,e as R,W,f as C,g as E}from"./vendor.e3f77be8.js";const H=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function r(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerpolicy&&(n.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?n.credentials="include":e.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(e){if(e.ep)return;e.ep=!0;const n=r(e);fetch(e.href,n)}};H();const T=new w({map:new l().load("./images/moon.jpg"),normalMap:new l().load("./images/normal.jpg")});function u(t,o){const r=new h(t,T);if(o)for(const[i,e]of Object.entries(o))r.position[i]=e;return r}function j(){const t=new h(new g(.25,24,24),new w({color:16777215})),[o,r,i]=Array(3).fill().map(()=>z.randFloatSpread(100));return t.position.set(o,r,i),t}class q{constructor(o,r,i,e=!1){if(!e)return;const n=new S(16777215);n.position.set(5,5,5),o.add(n),o.add(new v(n),new P(200,50)),this.controls=new O(r,i.domElement)}update(){this.controls&&this.controls.update()}}const y=()=>({width:window.innerWidth,height:window.innerHeight}),a=new A;a.add(new G(16777215));a.background=new l().load("./images/space.jpg");const s=new R(75,window.innerWidth/window.innerHeight,.1,1e3);s.position.z=30;s.position.x=-3;const d=new W({canvas:document.querySelector("#bg")}),p=y();d.setPixelRatio(window.devicePixelRatio);d.setSize(p.width,p.height);d.render(a,s);const F=new q(a,s,d,!1),m=u(new g(3,32,32),{x:4});a.add(m);const x=u(new C(10,3,16,100),{x:-10,z:30});a.add(x);const M=u(new E(6,1,100,16),{x:-20,z:60});a.add(M);Array(200).fill().forEach(()=>a.add(j()));const f=(t,o,r,i)=>{t.rotation.x+=o,t.rotation.y+=r,t.rotation.z+=i},L=()=>{const t=document.body.getBoundingClientRect().top;f(m,.05,.075,.05),s.position.z=t*-.01,s.position.x=t*-2e-4,s.rotation.y=t*-2e-4};document.body.onscroll=L;L();const K=(t,o)=>{const{width:r,height:i}=y();t.setSize(r,i),o.aspect=r/i,o.updateProjectionMatrix()};window.addEventListener("resize",()=>K(d,s));const b=()=>{requestAnimationFrame(b),f(x,.01,.005,.01),f(M,.1,.5,.1),m.rotation.x+=.005,F.update(),d.render(a,s)};b();
